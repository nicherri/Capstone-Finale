<div *ngIf="product" class="container mt-4">
  <h2 class="mb-4">Modifica Prodotto: {{ product.title }}</h2>

  <!-- Sezione Immagini -->
  <div class="mb-4">
    <h3>Immagini</h3>
    <ul class="list-group">
      <li *ngFor="let image of product?.images; let i = index" class="list-group-item">
        <div class="input-group mb-2">
          <input class="form-control" [(ngModel)]="image.coverImageUrl" placeholder="Modifica URL immagine">
          <button class="btn btn-danger" (click)="removeImage(i)">Rimuovi</button>
        </div>
      </li>
    </ul>
    <div class="input-group mt-2">
      <input class="form-control" [(ngModel)]="newImage.coverImageUrl" placeholder="URL nuova immagine">
      <button class="btn btn-success" (click)="addImage()">Aggiungi Immagine</button>
    </div>
  </div>

  <!-- Sezione Modifica Prodotto -->
  <div class="mb-4">
    <h3>Modifica Informazioni Prodotto</h3>
    <div class="form-group mb-3">
      <label for="title">Titolo:</label>
      <input id="title" class="form-control" [(ngModel)]="product.title" placeholder="Titolo">
    </div>
    <div class="form-group mb-3">
      <label for="subtitle">Sottotitolo:</label>
      <input id="subtitle" class="form-control" [(ngModel)]="product.subtitle" placeholder="Sottotitolo">
    </div>
    <div class="form-group mb-3">
      <label for="description">Descrizione:</label>
      <textarea id="description" class="form-control" [(ngModel)]="product.description" placeholder="Descrizione"></textarea>
    </div>
    <div class="form-group mb-3">
      <label for="price">Prezzo:</label>
      <input id="price" class="form-control" [(ngModel)]="product.price" type="number" placeholder="Prezzo">
    </div>
    <div class="form-group mb-3">
      <label for="numberOfPieces">Numero di pezzi:</label>
      <input id="numberOfPieces" class="form-control" [(ngModel)]="product.numberOfPieces" type="number" placeholder="Numero di pezzi">
    </div>
  </div>

  <!-- Sezione Benefici -->
  <div class="mb-4">
    <h3>Benefici</h3>
    <ul class="list-group">
      <li *ngFor="let benefit of product?.benefits; let i = index" class="list-group-item">
        <div class="input-group mb-2">
          <input class="form-control" [(ngModel)]="benefit.description" placeholder="Modifica beneficio">
          <button class="btn btn-danger" (click)="removeBenefit(i)">Rimuovi</button>
        </div>
      </li>
    </ul>
    <div class="input-group mt-2">
      <input class="form-control" [(ngModel)]="newBenefit.description" placeholder="Nuovo beneficio">
      <button class="btn btn-success" (click)="addBenefit()">Aggiungi Beneficio</button>
    </div>
  </div>

  <!-- Sezione Video -->
  <div class="mb-4">
    <h3>Video</h3>
    <ul class="list-group">
      <li *ngFor="let video of product?.videos; let i = index" class="list-group-item">
        <div class="input-group mb-2">
          <input class="form-control" [(ngModel)]="video.videoUrl" placeholder="Modifica URL video">
          <input class="form-control" [(ngModel)]="video.altText" placeholder="Testo alternativo">
          <button class="btn btn-danger" (click)="removeVideo(i)">Rimuovi</button>
        </div>
      </li>
    </ul>
    <div class="input-group mt-2">
      <input class="form-control" [(ngModel)]="newVideo.videoUrl" placeholder="URL nuovo video">
      <input class="form-control" [(ngModel)]="newVideo.altText" placeholder="Testo alternativo">
      <button class="btn btn-success" (click)="addVideo()">Aggiungi Video</button>
    </div>
  </div>

  <!-- Sezione Categoria -->
  <div class="mb-4">
    <label for="category">Categoria:</label>
    <select id="category" class="form-select" [(ngModel)]="product.categoryId">
      <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
    </select>
  </div>

  <!-- Sezione Area -->
  <div class="mb-4">
    <label for="area">Area:</label>
    <select id="area" class="form-select" [(ngModel)]="product.areaid">
      <option *ngFor="let area of areas" [value]="area.id">{{ area.name }}</option>
    </select>
  </div>

  <!-- Sezione Shelving -->
  <div class="mb-4">
    <label for="shelving">Shelving:</label>
    <select id="shelving" class="form-select" [(ngModel)]="product.shelvingId">
      <option *ngFor="let shelving of shelvings" [value]="shelving.id">{{ shelving.name }}</option>
    </select>
  </div>

  <!-- Sezione Shelf -->
  <div class="mb-4">
    <label for="shelf">Shelf:</label>
    <select id="shelf" class="form-select" [(ngModel)]="product.shelfId">
      <option *ngFor="let shelf of shelves" [value]="shelf.id">{{ shelf.name }}</option>
    </select>
  </div>

  <!-- Sezione FAQ -->
  <div class="mb-4">
    <h3>FAQ</h3>
    <ul class="list-group">
      <li *ngFor="let faq of product?.faqs; let i = index" class="list-group-item">
        <div class="input-group mb-2">
          <input class="form-control" [(ngModel)]="faq.question" placeholder="Modifica domanda">
          <input class="form-control" [(ngModel)]="faq.answer" placeholder="Modifica risposta">
          <button class="btn btn-danger" (click)="removeFAQ(i)">Rimuovi</button>
        </div>
      </li>
    </ul>
    <div class="input-group mt-2">
      <input class="form-control" [(ngModel)]="newFAQ.question" placeholder="Nuova domanda">
      <input class="form-control" [(ngModel)]="newFAQ.answer" placeholder="Nuova risposta">
      <button class="btn btn-success" (click)="addFAQ()">Aggiungi FAQ</button>
    </div>
  </div>

  <!-- Sezione Recensioni -->
  <div class="mb-4">
    <h3>Recensioni</h3>
    <ul class="list-group">
      <li *ngFor="let review of product?.reviews; let i = index" class="list-group-item">
        <div class="input-group mb-2">
          <input class="form-control" [(ngModel)]="review.rating" placeholder="Modifica valutazione">
          <input class="form-control" [(ngModel)]="review.comment" placeholder="Modifica commento">
          <button class="btn btn-danger" (click)="removeReview(i)">Rimuovi</button>
        </div>
      </li>
    </ul>
    <div class="input-group mt-2">
      <input class="form-control" [(ngModel)]="newReview.rating" placeholder="Valutazione">
      <input class="form-control" [(ngModel)]="newReview.comment" placeholder="Nuovo commento">
      <button class="btn btn-success" (click)="addReview()">Aggiungi Recensione</button>
    </div>
  </div>

  <!-- Pulsante per salvare tutte le modifiche -->
  <button class="btn btn-primary" (click)="saveChanges()">Salva tutte le modifiche</button>
</div>
